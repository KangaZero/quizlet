import{d as Zt,f as h,a as b,s as f,c as te}from"../chunks/zc6g9EkH.js";import"../chunks/C2ww8-rl.js";import{o as ee}from"../chunks/Cf-qHpLd.js";import{p as ae,l as L,a as re,s as a,f as gt,t as x,c as r,m as k,d,g as t,b as oe,i as ht,r as e,e as jt}from"../chunks/CD-9d_V8.js";import{i as P}from"../chunks/uy65MZih.js";import{c as se,e as qt,a as ne}from"../chunks/CFbMuKRK.js";import{e as yt,s as ie,b as le}from"../chunks/DvYgYepq.js";import{i as de}from"../chunks/B_z3iM5V.js";var ce=(S,i,g)=>{t(i)==="date"?d(g,"desc"):t(i)==="time"?d(g,"asc"):d(g,"desc")},ve=(S,i)=>d(i,t(i)==="asc"?"desc":"asc"),_e=h('<div class="rounded-lg border border-border p-8 text-center"><p>No quiz scores found.</p> <p class="mt-2"><a href="/" class="text-primary hover:underline">Go take a quiz!</a></p></div>'),ue=(S,i)=>i("date"),pe=h('<span class="ml-1"> </span>'),me=(S,i)=>i("score"),be=h('<span class="ml-1"> </span>'),fe=(S,i)=>i("accuracy"),xe=h('<span class="ml-1"> </span>'),ge=(S,i)=>i("time"),he=h('<span class="ml-1"> </span>'),ye=h('<tr class="border-b border-border hover:bg-muted/50"><td class="px-4 py-3"> </td><td class="px-4 py-3 text-sm"> </td><td class="px-4 py-3 capitalize"> </td><td class="px-4 py-3 text-right"> </td><td class="px-4 py-3 text-right"> </td><td class="px-4 py-3 text-right"> </td></tr>'),ke=(S,i,g)=>i(t(g)-1),Se=h("<button></button>"),Me=h('<span class="px-1">...</span>'),Te=(S,i,g)=>i(t(g)+1),we=h('<div class="mt-4 flex justify-center"><div class="flex items-center space-x-2"><button class="rounded-md border border-border px-3 py-1 text-sm disabled:opacity-50">Previous</button> <!> <button class="rounded-md border border-border px-3 py-1 text-sm disabled:opacity-50">Next</button></div></div>'),Pe=h('<div class="rounded-lg border border-border"><div class="overflow-x-auto"><table class="w-full"><thead><tr class="border-b border-border bg-muted/50"><th class="px-4 py-3 text-left text-sm font-medium">Player</th><th class="px-4 py-3 text-left text-sm font-medium"><button class="inline-flex items-center font-medium">Date <!></button></th><th class="px-4 py-3 text-left text-sm font-medium">Mode</th><th class="px-4 py-3 text-right text-sm font-medium"><button class="inline-flex items-center font-medium">Score <!></button></th><th class="px-4 py-3 text-right text-sm font-medium"><button class="inline-flex items-center font-medium">Accuracy <!></button></th><th class="px-4 py-3 text-right text-sm font-medium"><button class="inline-flex items-center font-medium">Time <!></button></th></tr></thead><tbody></tbody></table></div></div> <div class="flex flex-row justify-between mt-3"><div class="mb-4 text-sm text-muted-foreground"> </div> <div><label class="mr-2 text-sm font-medium">Items per page:</label> <select class="rounded-md border border-input bg-background px-3 py-1 dark:bg-slate-600"><option>10</option><option>20</option><option>50</option><option>100</option></select></div></div> <!>',1),$e=h('<h1 class="mb-3 text-2xl font-bold">Quiz Scores</h1> <div class="mb-3 flex flex-wrap items-center justify-between gap-4"><div><label for="filter" class="mr-2 text-sm font-medium">Filter by Mode:</label> <select class="rounded-md border border-input bg-background px-3 py-1 dark:bg-slate-600"><option>All Modes</option><option>Regular</option><option>Endless</option><option>Custom</option><option>Speedrun</option></select></div> <div><label class="mr-2 text-sm font-medium">Sort by:</label> <select class="rounded-md border border-input bg-background px-3 py-1 dark:bg-slate-600"><option>Date</option><option>Score</option><option>Accuracy</option><option>Time (fastest first)</option></select> <button class="ml-2 rounded-md border border-border p-2 hover:bg-muted hover:scale-105 active:scale-95 transition-transform"> </button></div></div> <!>',1);function Ee(S,i){ae(i,!1);const g=k(),T=k(),kt=k(),N=k();let R=k([]),A=k("all"),p=k("date"),v=k("desc"),l=k(1),y=k(10);ee(()=>{Ct()});function Ct(){d(R,se())}function Dt(o){return new Date(o).toLocaleString()}function Et(o){if(!o)return"N/A";const c=Math.floor(o/1e3),_=Math.floor(c/60),q=c%60;return`${_}:${q<10?"0":""}${q}`}function B(o){d(l,o)}function E(o){t(p)===o?d(v,t(v)==="asc"?"desc":"asc"):(d(p,o),d(v,o==="date"?"desc":"asc"))}L(()=>(t(R),t(A)),()=>{d(g,t(R).filter(o=>t(A)==="all"||o.mode===t(A)))}),L(()=>(t(g),t(p),t(v)),()=>{d(T,[...t(g)].sort((o,c)=>{let _=0;switch(t(p)){case"score":_=o.score-c.score;break;case"accuracy":_=o.score/o.totalQuestions-c.score/c.totalQuestions;break;case"time":o.timeTaken&&c.timeTaken?_=o.timeTaken-c.timeTaken:o.timeTaken?_=-1:c.timeTaken&&(_=1);break;case"date":default:_=o.date-c.date;break}return t(v)==="asc"?_:-_}))}),L(()=>(t(T),t(l),t(y)),()=>{d(kt,t(T).slice((t(l)-1)*t(y),t(l)*t(y)))}),L(()=>(t(T),t(y)),()=>{d(N,Math.ceil(t(T).length/t(y)))}),re(),de();var St=$e(),H=a(gt(St),2),J=r(H),K=a(r(J),2);x(()=>{t(A),ht(()=>{})});var O=r(K);O.value=O.__value="all";var U=a(O);U.value=U.__value="regular";var V=a(U);V.value=V.__value="endless";var W=a(V);W.value=W.__value="custom";var Mt=a(W);Mt.value=Mt.__value="speedrun",e(K),e(J);var Tt=a(J,2),j=a(r(Tt),2);x(()=>{t(p),ht(()=>{t(v)})}),j.__change=[ce,p,v];var X=r(j);X.value=X.__value="date";var Y=a(X);Y.value=Y.__value="score";var Z=a(Y);Z.value=Z.__value="accuracy";var wt=a(Z);wt.value=wt.__value="time",e(j);var F=a(j,2);F.__click=[ve,v];var Ft=r(F,!0);e(F),e(Tt),e(H);var Gt=a(H,2);{var It=o=>{var c=_e();b(o,c)},Lt=o=>{var c=Pe(),_=gt(c),q=r(_),Pt=r(q),tt=r(Pt),$t=r(tt),et=a(r($t)),at=r(et);at.__click=[ue,E];var Rt=a(r(at));{var Bt=n=>{var s=pe(),u=r(s,!0);e(s),x(()=>f(u,t(v)==="asc"?"↑":"↓")),b(n,s)};P(Rt,n=>{t(p)==="date"&&n(Bt)})}e(at),e(et);var rt=a(et,2),ot=r(rt);ot.__click=[me,E];var Ht=a(r(ot));{var Jt=n=>{var s=be(),u=r(s,!0);e(s),x(()=>f(u,t(v)==="asc"?"↑":"↓")),b(n,s)};P(Ht,n=>{t(p)==="score"&&n(Jt)})}e(ot),e(rt);var st=a(rt),nt=r(st);nt.__click=[fe,E];var Kt=a(r(nt));{var Ot=n=>{var s=xe(),u=r(s,!0);e(s),x(()=>f(u,t(v)==="asc"?"↑":"↓")),b(n,s)};P(Kt,n=>{t(p)==="accuracy"&&n(Ot)})}e(nt),e(st);var At=a(st),it=r(At);it.__click=[ge,E];var Ut=a(r(it));{var Vt=n=>{var s=he(),u=r(s,!0);e(s),x(()=>f(u,t(v)==="asc"?"↑":"↓")),b(n,s)};P(Ut,n=>{t(p)==="time"&&n(Vt)})}e(it),e(At),e($t),e(tt);var Qt=a(tt);qt(Qt,5,()=>t(kt),n=>n.id,(n,s)=>{var u=ye(),$=r(u),G=r($,!0);e($);var Q=a($),pt=r(Q,!0);e(Q);var I=a(Q),m=r(I,!0);e(I);var z=a(I),mt=r(z);e(z);var C=a(z),bt=r(C);e(C);var M=a(C),w=r(M,!0);e(M),e(u),x((ft,D,xt)=>{f(G,t(s).playerName),f(pt,ft),f(m,t(s).mode),f(mt,`${t(s).score??""} / ${t(s).totalQuestions??""}`),f(bt,`${D??""}%`),f(w,xt)},[()=>Dt(t(s).date),()=>Math.round(t(s).score/t(s).totalQuestions*100),()=>Et(t(s).timeTaken||0)],jt),b(n,u)}),e(Qt),e(Pt),e(q),e(_);var lt=a(_,2),dt=r(lt),Wt=r(dt);e(dt);var zt=a(dt,2),ct=a(r(zt),2);x(()=>{t(y),ht(()=>{})});var vt=r(ct);vt.value=vt.__value=10;var _t=a(vt);_t.value=_t.__value=20;var ut=a(_t);ut.value=ut.__value=50;var Nt=a(ut);Nt.value=Nt.__value=100,e(ct),e(zt),e(lt);var Xt=a(lt,2);{var Yt=n=>{var s=we(),u=r(s),$=r(u);$.__click=[ke,B,l];var G=a($,2);qt(G,1,()=>Array(t(N)),ne,(pt,I,m)=>{var z=te(),mt=gt(z);{var C=M=>{var w=Se();w.__click=()=>B(m+1),w.textContent=m+1,x(()=>le(w,1,`rounded-md border px-3 py-1 text-sm ${t(l)===m+1?"border-primary bg-primary/10":"border-border hover:bg-muted"}`)),b(M,w)},bt=(M,w)=>{{var ft=D=>{var xt=Me();b(D,xt)};P(M,D=>{(m+1===t(l)-2||m+1===t(l)+2)&&D(ft)},w)}};P(mt,M=>{m+1===t(l)||m+1===1||m+1===t(N)||m+1>=t(l)-1&&m+1<=t(l)+1?M(C):M(bt,!1)})}b(pt,z)});var Q=a(G,2);Q.__click=[Te,B,l],e(u),e(s),x(()=>{$.disabled=t(l)===1,Q.disabled=t(l)===t(N)}),b(n,s)};P(Xt,n=>{t(N)>1&&n(Yt)})}x(n=>f(Wt,`Showing ${(t(l)-1)*t(y)+1} to ${n??""} of ${t(T).length??""} scores`),[()=>Math.min(t(l)*t(y),t(T).length)],jt),yt(ct,()=>t(y),n=>d(y,n)),b(o,c)};P(Gt,o=>{t(T).length===0?o(It):o(Lt,!1)})}x(()=>{ie(F,"title",`Currently sorting ${t(v)==="asc"?"ascending":"descending"}`),f(Ft,t(v)==="asc"?"↑":"↓")}),yt(K,()=>t(A),o=>d(A,o)),yt(j,()=>t(p),o=>d(p,o)),b(S,St),oe()}Zt(["change","click"]);export{Ee as component};
